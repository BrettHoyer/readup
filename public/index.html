<!DOCTYPE html>
<html ng-app="readUp">
<head>
  <title>READ UP</title>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width initial-scale=1.0'>
  <meta name='apple-mobile-web-app-title' content='Read Up'>
  <meta name='apple-mobile-web-app-capable' content='yes'>
  <link rel="stylesheet" type="text/css" href="lib/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

  <script src="//use.edgefonts.net/source-sans-pro:n3,i3,n4,i4,n9.js"></script>      
  <script src="lib/bower_components/jquery/jquery.js"></script>
  <script src="lib/bower_components/angular/angular.js"></script>
  <script src="lib/spin.min.js"></script>
  <script src="lib/angular-spinner.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <script src="lib/bower_components/angular-strap/dist/angular-strap.min.js"></script>
  <script src="build/bundle.js"></script>
</head>
<body>
  <div id='main-container'>
    <header>
      <h1><a href="/">Read Up</a></h1>
      
    </header>
    <nav>
      <div id='main-menu' class='tab'>
        <div id='logo-main'></div>
      </div>
      <div id='search-input-tab' class='tab'><div class='tab-icon'></div></div>
      <div id='paste-link-input-tab' class='tab'><div class='tab-icon'></div></div>
      <div id='log-in' class='tab'>
        <!-- <span class='tab-icon'></span>
        <h1>Log in</h1> -->
        <div ng-controller="LoginController">
          <div id='logo-github'>
              <img id='avatar' src={{currentUser.image_url}}>
          </div>
          <div class="userSettings" ng-hide="currentUser.username" onclick="location.href='auth/github';">login</div>
          <div class="userSettings" ng-hide="!currentUser.username" bs-dropdown="settings">Settings</div>
        </div>
      </div>
      <div ng-controller="FormController">
        <form name="searchForm" class="submission-form" ng-submit="getSearchResults()">
          <div id='search-input' class='main-input'>
            <div class='icon'></div>
            <div class='placeholder'>Find a topic</div>
            <input id='search' ng-model="searchValue" class='main-input-text' type='text' autocomplete='off' bs-typeahead='typeaheadSearchFn'>
          </div>
        </form>
        <!-- logged in users -->
        <form ng-hide="!currentUser.username" name="itemForm" no-validate type='url' class="submission-form" ng-disabled='!itemForm.$valid'>
          <div id='paste-link-input' class='main-input'>
            <div class='icon'></div>
            <div class='placeholder'>Paste a link</div>
            <input id='paste-link' class='main-input-text' type='url' ng-model="item.link"/ required>
            <div class='link-form' ng-show='hasLink'>
              <span id='spinner' us-spinner='{lines:6, length: 0, width: 15, radius: 12}' ng-hide='doneLoading'></span>
              <h1 class='link-form-title' ng-model='suggestedData.title'>{{suggestedData.title}}</h1>
              <div class='link-form-section'>
                <h2>Pick topics:</h2>
                <div class='show-tags'>
                  <div ng-repeat="suggested in suggestedData.tags" class="tag suggested-tags" ng-click="removeTag(suggested,'suggested')">{{suggested}}</div>
                  <div ng-repeat="tag in item.tags" class="tag" ng-click="removeTag(tag)">{{tag}}</div>
                </div>
                <div class='link-form-topic-form' ng-sumbit='addTag(tag)'>
                  <input id='link-form-topic-search' type="text" ng-model="tag" bs-typeahead="typeaheadFn"/ placholder="search for topics...">
                  <!-- <button class='link-form-topic-submit' ng-click='addTag(tag)'>Add</button> -->
                </div>
              </div>
              <div class='link-form-section'>
                <h2>Pick type (optional):</h2>
                <div class='level-buttons btn-group' bs-buttons-checkbox>
                  <button type='button' class='btn category-buttons' ng-model='checkbox.tutorial'>Tutorial <i class='icon-lightbulb'></i></button>
                  <button type='button' class='btn category-buttons' ng-model='checkbox.reference'>Reference <span class='icon-book' aria-hidden='true'></span></button>
                  <button type='button' class='btn category-buttons' ng-model='checkbox.oped'>Op/Ed <span class='icon-bullhorn' aria-hidden='true'></span></button>
                  <button type='button' class='btn category-buttons' ng-model='checkbox.intro'>Intro <span class='icon-compass' aria-hidden='true'></span></button>
                </div>
              </div>
              <button class="btn item-submit close" data-dismiss="modal" ng-click="hide();send()">Add Link</button>
            </div>
          </div>
        </form>
        <!-- non-logged in users -->
        <form ng-hide="currentUser.username" name="itemForm" no-validate type='url' class="submission-form" ng-disabled='!itemForm.$valid' ng-submit='showLoginModal()'>
          <div id='paste-link-input' class='main-input'>
            <div class='icon'></div>
            <div class='placeholder'>Paste a link</div>
            <input id='paste-link' class='main-input-text' type='url' ng-model="item.link"/ required>
          </div>
        </form>

      </div>
    </nav>
      <div ng-controller="HomeController">
        <div ng-view></div>
      </div>
  </div>
</body>
</html>
